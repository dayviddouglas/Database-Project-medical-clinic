CREATE DATABASE CLINICAMEDICA;
 
USE CLINICAMEDICA;
 
CREATE TABLE MODALIDADE(
ID_MODALIDADE INTEGER NOT NULL,
DESCRICAO_MODALIDADE VARCHAR(2), /* CASO FOR PRESENCIAL: P E SE FOR ONLINE : O.*/
CONSTRAINT PK_MODALIDADE PRIMARY KEY (ID_MODALIDADE),
CONSTRAINT UNIQUE_IDMODAL UNIQUE (ID_MODALIDADE));
 
CREATE INDEX INDICE_ID_MODAL ON MODALIDADE (ID_MODALIDADE);
 
CREATE TABLE PACIENTE(
ID_PACIENTE INTEGER NOT NULL,
NOME_PACIENTE VARCHAR(100) NOT NULL,
CPF_PACIENTE CHAR(14) NOT NULL,
RG_PACIENTE CHAR(9) NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
SEXO CHAR(1) NOT NULL, /*SE FOR MASCULINO: M E SE FOR FEMININO: F.*/
DATA_DE_NASCIMENTO CHAR(10) NOT NULL,
TIPO_SANGUINEO VARCHAR(3) NOT NULL,
RUA_PACIENTE VARCHAR(100) NOT NULL,
CEP_PACIENTE VARCHAR(18) NOT NULL,
BAIRRO_PACIENTE VARCHAR(20) NOT NULL,
NUMERO_RESIDENCIAL_PACIENTE VARCHAR(6) NOT NULL,
 CONSTRAINT PK_PACIENTE PRIMARY KEY (ID_PACIENTE),
 CONSTRAINT UNIQUE_CPF_PACIENTE UNIQUE (CPF_PACIENTE),
 CONSTRAINT UNIQUE_RG_PACIENTE UNIQUE (RG_PACIENTE),
 CONSTRAINT UNIQUE_ID_PACIENTE UNIQUE (ID_PACIENTE));
 
CREATE INDEX INDICE_CPFPACIENTE ON PACIENTE (CPF_PACIENTE);
 
CREATE TABLE UNIDADEFISICA(
COD_UNIDADE INTEGER NOT NULL,
ESTADO_UNIDADEFISICA VARCHAR(20) NOT NULL,
NUMERO_UNIDADEFISICA VARCHAR(5) NOT NULL,
RUA_UNIDADEFISICA VARCHAR(100) NOT NULL,
CEP_UNIDADEFISICA VARCHAR(18) NOT NULL,
CIDADE_UNIDADEFISICA VARCHAR(40) NOT NULL,
CONSTRAINT PK_UNIDADEFISICA PRIMARY KEY (COD_UNIDADE),
CONSTRAINT UNIQUE_CODUNIDADE UNIQUE (COD_UNIDADE));

CREATE INDEX INDICE_COD_UNIDADE ON UNICADEFISICA (COD_UNIDADE);
 
CREATE TABLE ESPECIALIDADE(
ID_ESPECIALIDADE INTEGER NOT NULL,
DESCRICAO_ESPECIALIDADE VARCHAR(40) NOT NULL,
CONSTRAINT PK_ESPECIALIDADE PRIMARY KEY (ID_ESPECIALIDADE),
CONSTRAINT UNIQUE_IDESPECIALIDADE UNIQUE (ID_ESPECIALIDADE));

CREATE INDEX INDICE_ID_ESPECIALIDADE ON ESPECIALIDADE (ID_ESPECIALIDADE);
 
CREATE TABLE AGENDAMENTO(
 ID_AGENDAMENTO INTEGER NOT NULL,
 DATA_AGENDAMENTO DATE NOT NULL,
 HORA_AGENDAMENTO TIME NOT NULL,
 ID_MODALIDADE INTEGER NOT NULL,
 ID_PACIENTE INTEGER NOT NULL,
 COD_UNIDADE INTEGER,
 ID_ESPECIALIDADE INTEGER NOT NULL,
CONSTRAINT PK_AGENDAMENTO PRIMARY KEY (ID_AGENDAMENTO),
CONSTRAINT UNIQUE_IDAGENDAMENTO UNIQUE (ID_AGENDAMENTO),
CONSTRAINT FK_AGENDAMENTO_MODALIDADE FOREIGN KEY (ID_MODALIDADE) REFERENCES MODALIDADE (ID_MODALIDADE),
CONSTRAINT FK_AGENDAMENTO_PACIENTE FOREIGN KEY (ID_PACIENTE) REFERENCES PACIENTE (ID_PACIENTE),
CONSTRAINT FK_AGENDAMENTO_UNIDADEFISICA FOREIGN KEY (COD_UNIDADE) REFERENCES UNIDADEFISICA (COD_UNIDADE),
CONSTRAINT FK_AGENDAMENTO_ESPECIALIDADE FOREIGN KEY (ID_ESPECIALIDADE) REFERENCES ESPECIALIDADE (ID_ESPECIALIDADE));
 
   CREATE INDEX INDICE_ID_AGENDAMENTO ON AGENDAMENTO (ID_AGENDAMENTO);
 
CREATE TABLE PRONTUARIO(
ID_PRONTUARIO INTEGER NOT NULL,
QUEIXA_DO_PACIENTE VARCHAR(500) NOT NULL,
PRESSAO_ARTERIAL VARCHAR(5) NOT NULL,
OXIMETRIA VARCHAR(6) NOT NULL,
EXAME_REQUERIDO VARCHAR (255) NOT NULL,
DATA_DE_REALIZACAO DATE NOT NULL,
SATURACAO VARCHAR(6) NOT NULL,
DIAGNOSTICO VARCHAR(100) NOT NULL,
PREESCRICAO_MEDICA VARCHAR (255) NOT NULL,
BATIMENTO_CADIACO VARCHAR(100) NOT NULL,
AUSCUTA_PULMONAR VARCHAR(100) NOT NULL,
CONSTRAINT PK_PRONTUARIO PRIMARY KEY (ID_PRONTUARIO),
CONSTRAINT UNIQUE_IDPRONTUARIO UNIQUE (ID_PRONTUARIO));
 
CREATE INDEX INDICE_ID_PRONTUARIO ON PRONTUARIO (ID_PRONTUARIO);
 
CREATE TABLE FUNCIONARIO(
 ID_FUNCIONARIO INTEGER NOT NULL,
 NOME_FUNCIONARIO VARCHAR(200) NOT NULL,
RG_FUNCIONARIO CHAR(9) NOT NULL,
CARGO VARCHAR(30) NOT NULL,
CONSTRAINT PK_FUNCIONARIO PRIMARY KEY (ID_FUNCIONARIO),
CONSTRAINT UNIQUE_IDFUNCI UNIQUE (ID_FUNCIONARIO));
 
CREATE INDEX INDICE_ID_FUNCIONARIO ON FUNCIONARIO (ID_FUNCIONARIO);
 
CREATE TABLE MEDICO(
ID_MEDICO INTEGER NOT NULL,
CRM VARCHAR (15) NOT NULL,
ID_FUNCIONARIO INTEGER NOT NULL,
CONSTRAINT UNIQUE_CRM UNIQUE (CRM),
CONSTRAINT UNIQUE_ID_MEDICO UNIQUE (ID_MEDICO),
CONSTRAINT FK_MEDICO_FUNCIONARIO FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO (ID_FUNCIONARIO));
 
CREATE INDEX INDICE_ID_MEDICO ON MEDICO (ID_MEDICO);
 
CREATE TABLE ATENDIMENTO(
ID_ATENDIMENTO INTEGER NOT NULL,
DATA_ATENDIMENTO DATE NOT NULL,
HORA_ATENDIMENTO TIME NOT NULL,
ID_AGENDAMENTO INTEGER NOT NULL,
ID_PRONTUARIO INTEGER NOT NULL,
ID_MEDICO INTEGER NOT NULL,
CONSTRAINT PK_ATENDIMENTO PRIMARY KEY (ID_ATENDIMENTO),
CONSTRAINT UNIQUE_IDATENDI UNIQUE (ID_ATENDIMENTO),
CONSTRAINT FK_ATENDIMENTO_AGENDAMENTO FOREIGN KEY (ID_AGENDAMENTO) REFERENCES AGENDAMENTO (ID_AGENDAMENTO),
CONSTRAINT FK_ATENDIMENTO_PRONTUARIO FOREIGN KEY (ID_PRONTUARIO) REFERENCES PRONTUARIO (ID_PRONTUARIO),
CONSTRAINT FK_ATENDIMENTO_MEDICO FOREIGN KEY (ID_MEDICO) REFERENCES MEDICO (ID_MEDICO));
 
CREATE INDEX INDICE_ID_ATENDIMENTO ON ATENDIMENTO (ID_ATENDIMENTO);
 
CREATE TABLE PAGAMENTO (
ID_PAGAMENTO INTEGER NOT NULL,
VALOR DECIMAL(6,2) NOT NULL,
ID_ATENDIMENTO INTEGER NOT NULL,
CONSTRAINT PK_PAGAMENTO PRIMARY KEY (ID_PAGAMENTO),
CONSTRAINT UNIQUE_ID_PAGAMENTO UNIQUE (ID_PAGAMENTO),
CONSTRAINT FK_PAGAMENTO_ATENDIMENTO FOREIGN KEY (ID_ATENDIMENTO) REFERENCES ATENDIMENTO (ID_ATENDIMENTO));
 
CREATE INDEX INDICE_ID_PAGAMENTO ON PAGAMENTO (ID_PAGAMENTO);
 
CREATE TABLE MEDICO_ESPECIALIDADE(
ID_MEDICO INTEGER NOT NULL,
ID_ESPECIALIDADE INTEGER NOT NULL,
CONSTRAINT FK_MEDICO_ESPECIALIDADE_MED FOREIGN KEY (ID_MEDICO) REFERENCES MEDICO (ID_MEDICO),
CONSTRAINT FK_MEDICO_ESPECIALIDADE_ESP FOREIGN KEY (ID_ESPECIALIDADE) REFERENCES ESPECIALIDADE (ID_ESPECIALIDADE));
 
CREATE TABLE ASSISTENTE_FINANCEIRO (
 ID_ASSISTENTEFINANCEIRO INTEGER NOT NULL,
 ID_FUNCIONARIO INTEGER NOT NULL,
 ID_PAGAMENTO INTEGER NOT NULL,
 CONSTRAINT UNIQUE_ID_ASSITFINAC UNIQUE (ID_ASSINTENTEFINANCEIRO),
CONSTRAINT FK_ASSISTENTE_FINANCEIRO_FUNCIONARIO FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO (ID_FUNCIONARIO),
CONSTRAINT FK_ASSISTENTE_FINANCEIRO_PAGAMENTO FOREIGN KEY (ID_PAGAMENTO) REFERENCES PAGAMENTO (ID_PAGAMENTO));
 
CREATE INDEX INDICE_ID_ASSISTFINANC ON ASSISTENTE_FINANCEIRO (ID_ASSISTENTEFINANCEIRO);
 
INSERT INTO MODALIDADE VALUES (1,'P');
INSERT INTO MODALIDADE VALUES (2,'O');

INSERT INTO PACIENTE VALUES (1,'RICARDO JOSE DE ALENCAR','243.965.745-59','7.856.177','RICARDOJOSE@GMAIL.COM','M','06/08/1970','AB+','AVENIDA CONDE DA BOA VISTA','50060002','BOA VISTA','358');
INSERT INTO PACIENTE VALUES (2,'MARIA DAS DORES DA SILVA','298.999.765-58','8.886.187','MARIADORES@GMAIL.COM','F','26/06/1975','O+','AVENIDA DOUTOR BELMINO CORREIA','54768000','TIMBI','299');
INSERT INTO PACIENTE VALUES (3,'JOANA MARIA DE SOUZA','363.985.885-79','6.556.187','JOANAMARIA@GMAIL.COM','F','03/10/1985','A+','RUA NOVA','545856040','PIXETE','12');
INSERT INTO PACIENTE VALUES (4,'CARLOS FORTUNATO BEZERRA','532.546.945-20','7.896.173','CARLOSFBEZERRA@GMAIL.COM','M','06/08/1986','AB-','AVENIDA ENGENHEIRO ABDIAS DE CARVALHO','50751000','PRADO','42');
INSERT INTO PACIENTE VALUES (5,'JOAO MARIO CAVALCANTI','542.634.123-80','7.806.187','JOAOMCAVALCANTI@GMAIL.COM','M','06/08/1990','O+','AVENIDA CONSELHEIRO AGUIAR','51020021','BOA VIAGEM','1238');
 
 
INSERT INTO UNIDADEFISICA VALUES (1,'PERNAMBUCO','309','AVENIDA CONDE DA BOA VISTA','50060002','RECIFE');
INSERT INTO UNIDADEFISICA VALUES (2,'PERNAMBUCO','296','AVENIDA DOUTOR BELMINO CORREIA','54768000','CAMARAGIBE');
INSERT INTO UNIDADEFISICA VALUES (3,'CEARA','296','RUA POR DO SOL','60332470','FORTALEZA');
INSERT INTO UNIDADEFISICA VALUES (4,'RIO DE JANEIRO','452','RUA DA CONCEICAO','24020085','NITEROI');
INSERT INTO UNIDADEFISICA VALUES (5,'SAO PAULO','140','AVENIDA 9 DE JULHO','01406100','SAO PAULO');
 
INSERT INTO ESPECIALIDADE VALUES(1,'CARDIOLOGISTA');
INSERT INTO ESPECIALIDADE VALUES(2,'PROCTOLOGISTA');
INSERT INTO ESPECIALIDADE VALUES(3,'NEUROLOGISTA');
INSERT INTO ESPECIALIDADE VALUES(4,'GINECOLOGISTA');
INSERT INTO ESPECIALIDADE VALUES(5,'HEPATOLOGISTA');
 
INSERT INTO AGENDAMENTO VALUES(1,'2023-05-18','9:00',1,1,1,3);
INSERT INTO AGENDAMENTO VALUES(2,'2023-05-18','10:00',2,2,NULL,1);
INSERT INTO AGENDAMENTO VALUES(3,'2023-05-18','11:00',1,3,2,4);
INSERT INTO AGENDAMENTO VALUES(4,'2023-05-18','13:00',2,4,NULL,5);
INSERT INTO AGENDAMENTO VALUES(5,'2023-05-18','9:00',1,5,1,2);
 
INSERT INTO FUNCIONARIO VALUES(1,'JOSE FRANCISCO DA SILVA','7.867.537','AUXILIAR DE SERVICOS GERAIS');
INSERT INTO FUNCIONARIO VALUES(2,'ANA MARIA DE OLIVEIRA','7.546.453','ASSISTENTE ADMINISTRATIVO');
INSERT INTO FUNCIONARIO VALUES(3,'MARIA CONCEICAO DE ARRUDA','7.936.577','VIGILANTE');
INSERT INTO FUNCIONARIO VALUES(4,'ELIZANDRA OCHOA ALBUQUERQUE','7.921.214','AUXILIAR DE SERVICOS GERAIS');
INSERT INTO FUNCIONARIO VALUES(5,'JOSE FRANCISCO DE OLIVEIRA','7.367.527','GESTOR DE RECURSOS HUMANOS');
INSERT INTO FUNCIONARIO VALUES(6,'MARIA ANTONIETA AGUIAR','7.497.530','MEDICO');
INSERT INTO FUNCIONARIO VALUES(7,'DANIELE ALMEIDA PIMENTEL','8.502.470','MEDICO');
INSERT INTO FUNCIONARIO VALUES(8,'CARLOS ANDERSON JOSE DA SILVA','7.663.476','MEDICO');
INSERT INTO FUNCIONARIO VALUES(9,'ANGELA MARIA DE SOUSA','7.630.550','MEDICO');
INSERT INTO FUNCIONARIO VALUES(10,'CAROLINA MARIA LIMA','7.756.303','MEDICO');
INSERT INTO FUNCIONARIO VALUES(11,'RICARDO AGUIAR ARRUDA','8.765.213','ASSISTENTE FINANCEIRO');
INSERT INTO FUNCIONARIO VALUES(12,'FRANCISCO MANOEL DE TOLEDO','7.756.303','ASSISTENTE FINANCEIRO');
INSERT INTO FUNCIONARIO VALUES(13,'SAMANTHA ALVES DE MACEDO','7.784.121','ASSISTENTE FINANCEIRO');
INSERT INTO FUNCIONARIO VALUES(14,'CARLA MARIA DE LIMA','7.234.357','ASSISTENTE FINANCEIRO');
INSERT INTO FUNCIONARIO VALUES(15,'ELIANE RAYSSA CABRAL','7.234.356','ASSISTENTE FINANCEIRO');
 
INSERT INTO MEDICO VALUES(1,'CRM/PE 145632',6);
INSERT INTO MEDICO VALUES(2,'CRM/CE 147236',7);
INSERT INTO MEDICO VALUES(3,'CRM/PE 123754',8);
INSERT INTO MEDICO VALUES(4,'CRM/PE 122674',9);
INSERT INTO MEDICO VALUES(5,'CRM/SP 234752',10);
 
INSERT INTO PRONTUARIO VALUES (1,'DOR DE CABECA','12.80','99%','NENHUM','2023-05-18', '99%', 'ALTO NIVEL DE STRESS DEVIDO AO TRABALHO', 'INJERIR A CADA 12 HORAS UM DIPIRONA 500MG', '80BPM','RESPIRACAO NORMAL');
INSERT INTO PRONTUARIO VALUES (2,'DOR DE BARRIGA','13.90','100%','NENHUM','2023-05-18','100%', 'INTOXICACAO ALIMENTAR', 'HIDRATACAO CONSTANTE E INJERIR BUSCOPAN 250MG A CADA 8 HORAS DURANTE 7 DIAS', '85BPM','RESPIRACAO NORMAL');
INSERT INTO PRONTUARIO VALUES (3,'FEBRE ALTA','12.80','99%','NENHUM','2023-05-18', '99%', 'INFECCAO DE GARGANTA', 'INJERIR AMOXILINA 250MG A CADA 8 HORAS DURANTE 7 DIAS', '90BPM','RESPIRACAO NORMAL');
INSERT INTO PRONTUARIO VALUES (4,'DOR DE CABECA','12.80','99%','NENHUM','2023-05-18', '99%', 'ALTO NIVEL DE STRESS DEVIDO AO TRABALHO', 'INJERIR CADA 12 HORAS UM DIPIRONA 500MG', '90BPM','RESPIRACAO NORMAL');
INSERT INTO PRONTUARIO VALUES (5,'DOR DE CABECA','12.80','99%','NENHUM','2023-05-19', '99%', 'ALTO NIVEL DE STRESS DEVIDO AO TRABALHO', 'INJERIR CADA 12 HORAS UM DIPIRONA 500MG', '70BPM','RESPIRACAO NORMAL');
 
INSERT INTO MEDICO_ESPECIALIDADE VALUES(1,1);
INSERT INTO MEDICO_ESPECIALIDADE VALUES(2,2);
INSERT INTO MEDICO_ESPECIALIDADE VALUES(3,3);
INSERT INTO MEDICO_ESPECIALIDADE VALUES(4,4);
INSERT INTO MEDICO_ESPECIALIDADE VALUES(5,5);

INSERT INTO ATENDIMENTO VALUES(1,'2023-05-18','9:00',1,1,1);
INSERT INTO ATENDIMENTO VALUES(2,'2023-05-18','10:00',2,2,2);
INSERT INTO ATENDIMENTO VALUES(3,'2023-05-18','11:00',3,3,3);
INSERT INTO ATENDIMENTO VALUES(4,'2023-05-18','14:00',4,4,4);
INSERT INTO ATENDIMENTO VALUES(5,'2023-05-19','9:00',5,5,5);
 
INSERT INTO PAGAMENTO VALUES(1,'250.00',1);
INSERT INTO PAGAMENTO VALUES(2,'300.00',2);
INSERT INTO PAGAMENTO VALUES(3,'250.00',3);
INSERT INTO PAGAMENTO VALUES(4,'350.00',4);
INSERT INTO PAGAMENTO VALUES(5,'250.00',5);
 
INSERT INTO ASSISTENTE_FINANCEIRO VALUES (1,11,1);
INSERT INTO ASSISTENTE_FINANCEIRO VALUES (2,11,2);
INSERT INTO ASSISTENTE_FINANCEIRO VALUES (3,12,3);
INSERT INTO ASSISTENTE_FINANCEIRO VALUES (4,13,4);
INSERT INTO ASSISTENTE_FINANCEIRO VALUES (5,14,5);




COMMIT;
 
 

